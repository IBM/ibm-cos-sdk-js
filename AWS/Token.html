<!DOCTYPE html>
<html>
  <head>
    <meta name="guide-name" content="API Reference">
    <meta name="service-name" content="AWS SDK for JavaScript">
    <script type="text/javascript" src="/assets/js/awsdocs-boot.js"></script>
    <meta charset="utf-8">
<title>
  Class: AWS.Token
  
    &mdash; IBM COS SDK for JavaScript
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/highlight.github.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/custom.css" type="text/css" media="screen" charset="utf-8" />


  
    <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
  

  
    <script
      type="text/javascript"
      charset="utf-8"
      src="../js/app.js"
      id="app-script"
      pathid="AWS.Token"
      relpath='../'></script>
  

  
    <script type="text/javascript" charset="utf-8" src="../js/highlight.pack.js"></script>
  

  
    <script type="text/javascript" charset="utf-8" src="../js/custom.js"></script>
  

  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../AWS.html" title="AWS (module)">AWS</a></span></span>
     &raquo; 
    <span class="title">Token</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content">
        <div class="alert alert-info">
	<div class="alert-icon"></div>
	<div>
		<div class="alert-header">You are viewing the documentation for an older major version of the AWS SDK for JavaScript.</div>
		<div class="alert-content">
			The modular AWS SDK for JavaScript (v3), the latest major version of AWS SDK for JavaScript, is now stable and recommended for general use.
			For more information, see the
				<a href="https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/migrating-to-v3.html">Migration Guide</a> and 
				<a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/index.html">API Reference.</a>
		</div>
	</div>
</div>
        <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
        <h1>Class: AWS.Token
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">AWS.Token</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/token.js</dd>
  </dl>
  
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Represents AWS token object, which contains <span class='object_link'><a href="#token-property" title="AWS.Token.token (property)">token</a></span>, and optional
<span class='object_link'><a href="#expireTime-property" title="AWS.Token.expireTime (property)">expireTime</a></span>.
Creating a <code>Token</code> object allows you to pass around your
token to configuration and service objects.</p>

<p>Note that this class typically does not need to be constructed manually,
as the <span class='object_link'><a href="Config.html" title="AWS.Config (class)">AWS.Config</a></span> and <span class='object_link'><a href="Service.html" title="AWS.Service (class)">AWS.Service</a></span> classes both accept simple
options hashes with the two keys. The token from this object will be used
automatically in operations which require them.</p>

<h2>Expiring and Refreshing Token</h2>

<p>Occasionally token can expire in the middle of a long-running
application. In this case, the SDK will automatically attempt to
refresh the token from the storage location if the Token
class implements the <span class='object_link'><a href="#refresh-property" title="AWS.Token.refresh (property)">refresh()</a></span> method.</p>

<p>If you are implementing a token storage location, you
will want to create a subclass of the <code>Token</code> class and
override the <span class='object_link'><a href="#refresh-property" title="AWS.Token.refresh (property)">refresh()</a></span> method. This method allows token to be
retrieved from the backing store, be it a file system, database, or
some network storage. The method should reset the token attributes
on the object.</p>


  </div>
</div>
<div class="tags">
  


</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="StaticTokenProvider.html" title="AWS.StaticTokenProvider (class)">AWS.StaticTokenProvider</a></span>, <span class='object_link'><a href="TokenProviderChain.html" title="AWS.TokenProviderChain (class)">AWS.TokenProviderChain</a></span></p>
</div>



<h2>Constructor Summary
  <small><a href="#" class="summary_toggle">collapse</a></small>
</h2>

<ul class="summary">
  
    <li class="public ">
  <span class="summary_signature">
    
      <a href="#constructor-property" title="AWS.Token">new <strong>AWS.Token</strong>(options) &#x21d2; void </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a Token object with a given set of information in options hash.</p>
</div></span>
  
</li>

  
</ul>


  <h2> Property Summary
    <small><a href="#" class="summary_toggle">collapse</a></small>
  </h2>

  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#expired-property" title="expired"><strong>expired</strong> &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
    <span class="note title readonly">readwrite</span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether the token is expired and require a refresh.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#expireTime-property" title="expireTime"><strong>expireTime</strong> &#x21d2; Date </a>
    

    
  </span>
  
  
  
    <span class="note title readonly">readwrite</span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A time when token should be considered expired.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#expiryWindow-property" title="expiryWindow"><strong>expiryWindow</strong> &#x21d2; Integer, Number </a>
    

    
  </span>
  
    <span class="note title constructor">static</span>
  
  
  
    <span class="note title readonly">readwrite</span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#token-property" title="token"><strong>token</strong> &#x21d2; String </a>
    

    
  </span>
  
  
  
    <span class="note title readonly">readwrite</span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Represents the literal token string.</p>
</div></span>
  
</li>

    
  </ul>




  <h2> Method Summary
    <small><a href="#" class="summary_toggle">collapse</a></small>
  </h2>

  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#get-property" title="get"><strong>get</strong>(callback) &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Gets the existing token, refreshing them if they are not yet loaded or have expired.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#getPromise-property" title="getPromise"><strong>getPromise</strong>() &#x21d2; Promise </a>
    

    
  </span>
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a 'thenable' promise.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#needsRefresh-property" title="needsRefresh"><strong>needsRefresh</strong>() &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether the Token object should call <span class='object_link'><a href="#refresh-property" title="AWS.Token.refresh (property)">refresh()</a></span>.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#refresh-property" title="refresh"><strong>refresh</strong>(callback) &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Refreshes the token.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#refreshPromise-property" title="refreshPromise"><strong>refreshPromise</strong>() &#x21d2; Promise </a>
    

    
  </span>
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a 'thenable' promise.</p>
</div></span>
  
</li>

    
  </ul>



<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="constructor-property">
  
    new <strong>AWS.Token</strong>(options) &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a Token object with a given set of information in options hash.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Create a token object</p>
</div></p>
      
      <pre class="example code"><code>var token = new AWS.Token({ token: &#39;token&#39; });</code></pre>
    
  </div>


  
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">token</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>represents the literal token string.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">expireTime</span>
          <span class="type">(<tt>Date</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>field representing the time at which
the token expires.</p>
</div>
          
        </li>
      
    </ul>
  


</div>
</div>
  
</div>


  <div id="prop_details" class="method_details">
    <h2>Property Details</h2>
    
      <div class="method_details first">
  <h3 class="signature first" id="expired-property">
  
    <strong>expired</strong> &#x21d2; <tt>Boolean</tt>  <span class="extras">(readwrite)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns whether the token is expired and require a refresh. Used
in conjunction with <span class='object_link'><a href="#expireTime-property" title="AWS.Token.expireTime (property)">expireTime</a></span>.</p>


  </div>
</div>
<div class="tags">
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>whether the token is expired and require a refresh. Used
in conjunction with <span class='object_link'><a href="#expireTime-property" title="AWS.Token.expireTime (property)">expireTime</a></span>.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expireTime-property">
  
    <strong>expireTime</strong> &#x21d2; <tt>Date</tt>  <span class="extras">(readwrite)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a time when token should be considered expired. Used
in conjunction with <span class='object_link'><a href="#expired-property" title="AWS.Token.expired (property)">expired</a></span>.</p>


  </div>
</div>
<div class="tags">
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Date</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a time when token should be considered expired. Used
in conjunction with <span class='object_link'><a href="#expired-property" title="AWS.Token.expired (property)">expired</a></span>.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expiryWindow-property">
  
    <strong>expiryWindow</strong> &#x21d2; <tt>Integer</tt>, <tt>Number</tt>  <span class="extras">(static, readwrite)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  <p class="tag_title">Default Value:</p>
<div class="examples">

  <pre class="example code value_tag"><code>AWS.Token.expiryWindow = 15</code></pre>

</div>


</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="token-property">
  
    <strong>token</strong> &#x21d2; <tt>String</tt>  <span class="extras">(readwrite)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns represents the literal token string. This will typically
be a base64 encoded string.</p>


  </div>
</div>
<div class="tags">
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>represents the literal token string. This will typically
be a base64 encoded string.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
  </div>


  <div id="method_details" class="method_details">
    <h2>Method Details</h2>
    
      <div class="method_details first">
  <h3 class="signature first" id="get-property">
  
    <strong>get</strong>(callback) &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Gets the existing token, refreshing them if they are not yet loaded
or have expired. Users should call this method before using <span class='object_link'><a href="#refresh-property" title="AWS.Token.refresh (property)">refresh()</a></span>,
as this will not attempt to reload token when they are already
loaded into the object.</p>


  </div>
</div>
<div class="tags">
  
  
  <p class="tag_title">Callback (<tt>callback</tt>):</p>
  <ul class="callback">
    <li class="callback_item">
      <span class="signature"><strong>function</strong>(err) { ... } </span>
      <div class="docstring">
  <div class="discussion">
    <p>When this callback is called with no error, it means either token
do not need to be refreshed or refreshed token information has
been loaded into the object (as the <code>token</code> property).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>err</span>
      
      
        <span class='type'>(<tt>Error</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if an error occurred, this value will be filled</p>
</div>
      
    </li>
  
</ul>



</div>
    </li>
  </ul>



</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getPromise-property">
  
    <strong>getPromise</strong>() &#x21d2; <tt>Promise</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a 'thenable' promise.
Gets the existing token, refreshing it if it's not yet loaded
or have expired. Users should call this method before using <span class='object_link'><a href="#refresh-property" title="AWS.Token.refresh (property)">refresh()</a></span>,
as this will not attempt to reload token when it's already
loaded into the object.</p>

<p>Two callbacks can be provided to the <code>then</code> method on the returned promise.
The first callback will be called if the promise is fulfilled, and the second
callback will be called if the promise is rejected.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Calling the <code>getPromise</code> method.</p>
</div></p>
      
      <pre class="example code"><code>var promise = tokenProvider.getPromise();
promise.then(function() { ... }, function(err) { ... });</code></pre>
    
  </div>

  <p class="tag_title">Callbacks:</p>
  <ul class="callback">
    
      
      <li class="callback_item">
        <span class="signature"><strong>function</strong>() { ... } </span>
        <div class="docstring">
  <div class="discussion">
    <p>Called if the promise is fulfilled. When this callback is called, it means
either token does not need to be refreshed or refreshed token information
has been loaded into the object (as the <code>token</code> property).</p>


  </div>
</div>
<div class="tags">
  


</div>
      </li>
    
      
      <li class="callback_item">
        <span class="signature"><strong>function</strong>(err) { ... } </span>
        <div class="docstring">
  <div class="discussion">
    <p>Called if the promise is rejected.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>err</span>
      
      
        <span class='type'>(<tt>Error</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if an error occurred, this value will be filled.</p>
</div>
      
    </li>
  
</ul>



</div>
      </li>
    
  </ul>


<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Promise</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A promise that represents the state of the <code>get</code> call.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="needsRefresh-property">
  
    <strong>needsRefresh</strong>() &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Subclasses should override this method to provide custom refresh
logic.</p>
</div>
  </div>

<p>Returns whether the Token object should call <span class='object_link'><a href="#refresh-property" title="AWS.Token.refresh (property)">refresh()</a></span>.</p>


  </div>
</div>
<div class="tags">
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>whether the Token object should call <span class='object_link'><a href="#refresh-property" title="AWS.Token.refresh (property)">refresh()</a></span></p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="refresh-property">
  
    <strong>refresh</strong>(callback) &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Subclasses should override this class to reset the
<span class='object_link'><a href="#token-property" title="AWS.Token.token (property)">token</a></span> on the token object and then call the callback with
any error information.</p>
</div>
  </div>

<p>Refreshes the token. Users should call <span class='object_link'><a href="#get-property" title="AWS.Token.get (property)">get()</a></span> before attempting
to forcibly refresh token.</p>


  </div>
</div>
<div class="tags">
  
  
  <p class="tag_title">Callback (<tt>callback</tt>):</p>
  <ul class="callback">
    <li class="callback_item">
      <span class="signature"><strong>function</strong>(err) { ... } </span>
      <div class="docstring">
  <div class="discussion">
    <p>When this callback is called with no error, it means refreshed
token information has been loaded into the object (as the
<code>token</code> property).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>err</span>
      
      
        <span class='type'>(<tt>Error</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if an error occurred, this value will be filled</p>
</div>
      
    </li>
  
</ul>



</div>
    </li>
  </ul>



  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#get-property" title="AWS.Token.get (property)">get()</a></span></li>
    
  </ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="refreshPromise-property">
  
    <strong>refreshPromise</strong>() &#x21d2; <tt>Promise</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a 'thenable' promise.
Refreshes the token. Users should call <span class='object_link'><a href="#get-property" title="AWS.Token.get (property)">get()</a></span> before attempting
to forcibly refresh token.</p>

<p>Two callbacks can be provided to the <code>then</code> method on the returned promise.
The first callback will be called if the promise is fulfilled, and the second
callback will be called if the promise is rejected.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Calling the <code>refreshPromise</code> method.</p>
</div></p>
      
      <pre class="example code"><code>var promise = tokenProvider.refreshPromise();
promise.then(function() { ... }, function(err) { ... });</code></pre>
    
  </div>

  <p class="tag_title">Callbacks:</p>
  <ul class="callback">
    
      
      <li class="callback_item">
        <span class="signature"><strong>function</strong>() { ... } </span>
        <div class="docstring">
  <div class="discussion">
    <p>Called if the promise is fulfilled. When this callback is called, it
means refreshed token information has been loaded into the object
(as the <code>token</code> property).</p>


  </div>
</div>
<div class="tags">
  


</div>
      </li>
    
      
      <li class="callback_item">
        <span class="signature"><strong>function</strong>(err) { ... } </span>
        <div class="docstring">
  <div class="discussion">
    <p>Called if the promise is rejected.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>err</span>
      
      
        <span class='type'>(<tt>Error</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if an error occurred, this value will be filled.</p>
</div>
      
    </li>
  
</ul>



</div>
      </li>
    
  </ul>


<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Promise</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A promise that represents the state of the <code>refresh</code> call.</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
  </div>


      </div>

      <div id="footer">
  <div>
    Generated on Tue Dec  3 06:21:57 2024 by
    <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
    0.9.36 (ruby-2.7.0).
  </div>
  <div id="awsdocs-legal-zone-copyright"></div>
</div>
    </div>
  </body>
</html>
